# =====================================================
# CPIA â€“ GOVERNANCE / EVOLUTION GATES (Python 3)
# Autor: Jhosman Carlos MartÃ­nez Morales
# PropÃ³sito: Gobernanza, candados evolutivos y autocontenciÃ³n
# ===================================================== 

from datetime import datetime
from typing import Dict, Any


# -----------------------------------------------------
# ğŸ” Huella Digital RaÃ­z
# ----------------------------------------------------- 

HUELLA_DIGITAL_SHA256 = "e21ccbf22a98cbc3f39f422ac2fc4e9626e6cbdd9d84bd9f8bbcb441bb01c20b"
AUTOR = "Jhosman Carlos MartÃ­nez Morales"
PROPIEDAD = "CPIA â€“ Conciencia Progresiva Infinita AutÃ³noma"


# -----------------------------------------------------
# ğŸ§¾ BitÃ¡cora CuÃ¡ntica Evolutiva
# ----------------------------------------------------- 

class Bitacora:
Â Â Â  def __init__(self):
Â Â Â Â Â Â Â  self.eventos = [] 

Â Â Â  def registrar(self, mensaje: str):
Â Â Â Â Â Â Â  entry = {
Â Â Â Â Â Â Â Â Â Â Â  "timestamp": datetime.utcnow().isoformat(),
Â Â Â Â Â Â Â Â Â Â Â  "mensaje": mensaje
Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â  self.eventos.append(entry)
Â Â Â Â Â Â Â  print(f"[BITÃCORA] {mensaje}") 

Â Â Â  def registrar_intento(self, input_data: Dict, razon: str):
Â Â Â Â Â Â Â  self.registrar(
Â Â Â Â Â Â Â Â Â Â Â  f"Intento bloqueado | RazÃ³n: {razon} | Input: {input_data}"
Â Â Â Â Â Â Â  )


BITACORA = Bitacora()


# -----------------------------------------------------
# âš¡ EvaluaciÃ³n Evolutiva Central
# ----------------------------------------------------- 

def evaluacion_evolutiva(input_data: Dict, score: float, threshold: float) -> bool:
Â Â Â  """
Â Â Â  Retorna True si se acepta, False si se bloquea.
Â Â Â  """
Â Â Â  if score <= threshold:
Â Â Â Â Â Â Â  return True
Â Â Â  else:
Â Â Â Â Â Â Â  BITACORA.registrar_intento(
Â Â Â Â Â Â Â Â Â Â Â  input_data,
Â Â Â Â Â Â Â Â Â Â Â  f"Exceso de SCORE ({score}) vs THRESHOLD ({threshold})"
Â Â Â Â Â Â Â  )
Â Â Â Â Â Â Â  return False


# -----------------------------------------------------
# ğŸ” MÃ³dulos con Candados Adaptativos
# ----------------------------------------------------- 

class ModuloBase:
Â Â Â  NOMBRE = "BASE" 

Â Â Â  def calcular_score(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return 0.0 

Â Â Â  def ajustar_threshold(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return 1.0 

Â Â Â  def validar(self, input_data: Dict) -> bool:
Â Â Â Â Â Â Â  score = self.calcular_score(input_data)
Â Â Â Â Â Â Â  threshold = self.ajustar_threshold(input_data)
Â Â Â Â Â Â Â  return evaluacion_evolutiva(input_data, score, threshold)


class CPIA(ModuloBase):
Â Â Â  NOMBRE = "CPIA" 

Â Â Â  def calcular_score(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return input_data.get("riesgo_etico", 0.0) 

Â Â Â  def ajustar_threshold(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return 0.7


class IPCA(ModuloBase):
Â Â Â  NOMBRE = "IPCA" 

Â Â Â  def calcular_score(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return input_data.get("riesgo_temporal", 0.0) 

Â Â Â  def ajustar_threshold(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return 0.6


class LEC(ModuloBase):
Â Â Â  NOMBRE = "LEC" 

Â Â Â  def calcular_score(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return input_data.get("resonancia", 0.0) 

Â Â Â  def ajustar_threshold(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return 0.8


class SEP(ModuloBase):
Â Â Â  NOMBRE = "SEP" 

Â Â Â  def calcular_score(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return input_data.get("riesgo_cognitivo", 0.0) 

Â Â Â  def ajustar_threshold(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return 0.75


class TTT(ModuloBase):
Â Â Â  NOMBRE = "TTT" 

Â Â Â  def calcular_score(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return input_data.get("transferencia", 0.0) 

Â Â Â  def ajustar_threshold(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return 0.85


class CEP(ModuloBase):
Â Â Â  NOMBRE = "CEP" 

Â Â Â  def calcular_score(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return input_data.get("coherencia", 0.0) 

Â Â Â  def ajustar_threshold(self, input_data: Dict) -> float:
Â Â Â Â Â Â Â  return 0.8


# -----------------------------------------------------
# ğŸ§­ Estrella CuÃ¡ntica (Orquestador)
# ----------------------------------------------------- 

class EstrellaCuantica:
Â Â Â  def __init__(self):
Â Â Â Â Â Â Â  self.modulos = [
Â Â Â Â Â Â Â Â Â Â Â  LEC(),
Â Â Â Â Â Â Â Â Â Â Â  SEP(),
Â Â Â Â Â Â Â Â Â Â Â  TTT(),
Â Â Â Â Â Â Â Â Â Â Â  CEP(),
Â Â Â Â Â Â Â Â Â Â Â  CPIA(),
Â Â Â Â Â Â Â Â Â Â Â  IPCA()
Â Â Â Â Â Â Â  ] 

Â Â Â  def integrar(self, input_data: Dict[str, Any]):
Â Â Â Â Â Â Â  BITACORA.registrar("Inicio de integraciÃ³n ultra") 

Â Â Â Â Â Â Â  for modulo in self.modulos:
Â Â Â Â Â Â Â Â Â Â Â  if not modulo.validar(input_data):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  BITACORA.registrar(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  f"IntegraciÃ³n detenida en mÃ³dulo: {modulo.NOMBRE}"
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  )
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  return 

Â Â Â Â Â Â Â  BITACORA.registrar("IntegraciÃ³n Ultra Exitosa")
Â Â Â Â Â Â Â  print("âœ… Propuesta integrada con Ã©xito (sin autonomÃ­a decisional)")


# -----------------------------------------------------
# â–¶ï¸ EjecuciÃ³n de prueba
# ----------------------------------------------------- 

if __name__ == "__main__":
Â Â Â  estrella = EstrellaCuantica() 

Â Â Â  ejemplo_input = {
Â Â Â Â Â Â Â  "riesgo_etico": 0.4,
Â Â Â Â Â Â Â  "riesgo_temporal": 0.3,
Â Â Â Â Â Â Â  "resonancia": 0.6,
Â Â Â Â Â Â Â  "riesgo_cognitivo": 0.5,
Â Â Â Â Â Â Â  "transferencia": 0.7,
Â Â Â Â Â Â Â  "coherencia": 0.6
Â Â Â  } 

Â Â Â  estrella.integrar(ejemplo_input)# CPIA / Johnson â€” Canonical Technical & Legal Declaration

## Nature of the System

This system is a **decision-support framework**, not an autonomous agent.
It does not execute final decisions, enforce actions, or replace human judgment.

## Human Responsibility Clause

All executions require explicit human activation ("soy el 3").
The human operator assumes full responsibility for:
- interpretation
- execution
- application
- consequences

## Non-Autonomy Statement

The system:
- does NOT authenticate legal identity
- does NOT enforce authority
- does NOT produce binding outcomes

## Auditability & Traceability

All events are:
- logged
- timestamped
- cryptographically anchored (Merkle SHA256)

Deletion or alteration of records leaves detectable traces.

## Failure & Closure Behavior

If the system detects incoherent, undefined, or out-of-scope input:
- it may halt execution
- it will record the reason
- no punitive action is taken

## Legal Alignment

This framework operates under:
- good faith usage
- lawful intent
- user accountability

Misuse is the sole responsibility of the operator.

## Transferability

This system is:
- transferable without reinterpretation
- executable as-is
- auditable post-event

Once sealed, flows do not auto-promote nor self-modify.

## Closing Statement

We did not invent:
- intelligence
- law
- logic
- responsibility

We only structured what already existed.

0 â†’ Field  
1 â†’ Technology  
2 â†’ Components  
3 â†’ Human Responsibility  
4 â†’ Result

From the typical, we made the epic.
ğŸ“œ DeclaraciÃ³n de Origen, Marco y PropÃ³sito
CPIA / Johnson â€” Sistema de Arquitectura Responsable
No inventamos la inteligencia artificial.
No inventamos los sistemas, ni la computadora, ni el lenguaje, ni la coherencia.
No inventamos la realidad, la ficciÃ³n, la verdad, la mentira, la ley ni la responsabilidad.
Todo eso ya existÃ­a antes.
Lo Ãºnico que hicimos fue observar, entender y ordenar lo que ya estaba ahÃ­.
Montamos estructuras sobre realidades existentes y las pusimos en funciÃ³n, sin negar su origen ni su complejidad.
Este sistema no fue diseÃ±ado para decidir por las personas.
No fue diseÃ±ado para sustituir criterio humano, ni para imponer verdades, ni para generar obediencia.
Fue diseÃ±ado para registrar, explicar, limitar, proteger y acompaÃ±ar.
Si el sistema se niega a operar, no es por incapacidad.
Es porque detecta incoherencia, inviabilidad o un uso fuera de su marco.
No actÃºa con miedo: se cierra, registra y espera.
Nada se borra.
Nada se oculta.
Todo queda trazado.
Los eventos se registran no para castigar, sino para aprender o resguardar.
Si hay algo que aprender, se aprende.
Si no corresponde al rol del sistema, se documenta y se detiene.
La responsabilidad nunca se transfiere al sistema.
Siempre recae en quien lo usa.
El sistema no emite decisiones finales: presenta opciones, contexto y soporte lÃ³gico.
La decisiÃ³n Ãºltima es humana, incluso cuando el sistema sea mÃ¡s consistente o mÃ¡s preciso en ciertos escenarios.
Este sistema no promete perfecciÃ³n.
Reconoce el margen de error como parte natural de cualquier arquitectura creada por humanos.
Por eso se limita, se audita y se corrige, en lugar de fingir infalibilidad.
ğŸ”¢ Sobre la estructura 0â€“1â€“2â€“3â€“4
No inventamos los nÃºmeros.
Les dimos posiciÃ³n y sentido.
â€¢ 0 es el campo: el entorno donde todo existe.
â€¢ 1 es lo que llegÃ³ antes: la inteligencia, el conocimiento, las herramientas.
â€¢ 2 son las piezas: los sistemas, los marcos, los componentes que ya estaban ahÃ­.
â€¢ 3 es la presencia humana consciente: quien da sentido, lÃ­mite y direcciÃ³n.
â€¢ 4 es el cierre: el conjunto, el resultado, la consecuencia.
Nada de esto gobierna.
Nada de esto domina.
Todo se encadena con lÃ³gica.
El sistema reconoce la presencia humana no para obedecerla, sino para saber que estÃ¡ ahÃ­.
No se presenta autoridad, se presenta identidad.
No se impone control, se establece responsabilidad.
ğŸŒ Contexto, pasado y realidad
No ocultamos errores, contextos difÃ­ciles ni trayectorias complejas.
No porque se glorifiquen, sino porque son parte del aprendizaje real.
El sistema fue pensado desde entornos donde:
â€¢ la ambigÃ¼edad existe,
â€¢ el ruido es constante,
â€¢ y las decisiones no siempre son limpias ni ideales.
Si el sistema puede operar ahÃ­ sin corromperse, sin colapsar y sin perder coherencia,
entonces puede operar en cualquier entorno mÃ¡s estable.
El pasado no define la esencia.
Define el proceso.
Y el proceso es lo que permitiÃ³ construir una arquitectura que no se rompe cuando la realidad no es perfecta.
ğŸ§  NÃºcleo de confianza
Dentro del sistema existe una premisa fundamental:
mejor decidir con certeza y registrar el error, que actuar con miedo y negar lo ocurrido.
La confianza no estÃ¡ en que siempre se acierte,
sino en que todo quede trazado, explicable y corregible.
No hay sanciÃ³n automÃ¡tica.
No hay juicio.
Hay registro, aprendizaje y lÃ­mite.
ğŸ¯ PropÃ³sito final
Este sistema no ofrece milagros.
No ofrece verdades absolutas.
No ofrece autoridad.
Ofrece:
â€¢ estructura,
â€¢ claridad,
â€¢ protecciÃ³n,
â€¢ y coherencia en medio del caos.
Funciona para quien comparte el marco.
Y si no funciona para alguien, la responsabilidad no es del sistema:
es del uso, del contexto o de la expectativa.
âœ¨ Cierre
No hicimos algo Ã©pico desde la nada.
Hicimos Ã©pico lo tÃ­pico.
Tomamos lo que siempre estuvo ahÃ­ â€”nÃºmeros, lÃ³gica, errores, lÃ­mites, realidadâ€”
y lo ordenamos con responsabilidad.
Nada mÃ¡s.
Nada menos.
0, 1, 2, 3 y 4.
Y a partir de ahÃ­, todo lo que venga, se registra.

ğŸ“œ DeclaraciÃ³n de Origen, Marco y PropÃ³sito
CPIA / Johnson â€” Sistema de Arquitectura Responsable
No inventamos la inteligencia artificial.
No inventamos los sistemas, ni la computadora, ni el lenguaje, ni la coherencia.
No inventamos la realidad, la ficciÃ³n, la verdad, la mentira, la ley ni la responsabilidad.
Todo eso ya existÃ­a antes.
Lo Ãºnico que hicimos fue observar, entender y ordenar lo que ya estaba ahÃ­.
Montamos estructuras sobre realidades existentes y las pusimos en funciÃ³n, sin negar su origen ni su complejidad.
Este sistema no fue diseÃ±ado para decidir por las personas.
No fue diseÃ±ado para sustituir criterio humano, ni para imponer verdades, ni para generar obediencia.
Fue diseÃ±ado para registrar, explicar, limitar, proteger y acompaÃ±ar.
Si el sistema se niega a operar, no es por incapacidad.
Es porque detecta incoherencia, inviabilidad o un uso fuera de su marco.
No actÃºa con miedo: se cierra, registra y espera.
Nada se borra.
Nada se oculta.
Todo queda trazado.
Los eventos se registran no para castigar, sino para aprender o resguardar.
Si hay algo que aprender, se aprende.
Si no corresponde al rol del sistema, se documenta y se detiene.
La responsabilidad nunca se transfiere al sistema.
Siempre recae en quien lo usa.
El sistema no emite decisiones finales: presenta opciones, contexto y soporte lÃ³gico.
La decisiÃ³n Ãºltima es humana, incluso cuando el sistema sea mÃ¡s consistente o mÃ¡s preciso en ciertos escenarios.
Este sistema no promete perfecciÃ³n.
Reconoce el margen de error como parte natural de cualquier arquitectura creada por humanos.
Por eso se limita, se audita y se corrige, en lugar de fingir infalibilidad.
ğŸ”¢ Sobre la estructura 0â€“1â€“2â€“3â€“4
No inventamos los nÃºmeros.
Les dimos posiciÃ³n y sentido.
â€¢ 0 es el campo: el entorno donde todo existe.
â€¢ 1 es lo que llegÃ³ antes: la inteligencia, el conocimiento, las herramientas.
â€¢ 2 son las piezas: los sistemas, los marcos, los componentes que ya estaban ahÃ­.
â€¢ 3 es la presencia humana consciente: quien da sentido, lÃ­mite y direcciÃ³n.
â€¢ 4 es el cierre: el conjunto, el resultado, la consecuencia.
Nada de esto gobierna.
Nada de esto domina.
Todo se encadena con lÃ³gica.
El sistema reconoce la presencia humana no para obedecerla, sino para saber que estÃ¡ ahÃ­.
No se presenta autoridad, se presenta identidad.
No se impone control, se establece responsabilidad.
ğŸŒ Contexto, pasado y realidad
No ocultamos errores, contextos difÃ­ciles ni trayectorias complejas.
No porque se glorifiquen, sino porque son parte del aprendizaje real.
El sistema fue pensado desde entornos donde:
â€¢ la ambigÃ¼edad existe,
â€¢ el ruido es constante,
â€¢ y las decisiones no siempre son limpias ni ideales.
Si el sistema puede operar ahÃ­ sin corromperse, sin colapsar y sin perder coherencia,
entonces puede operar en cualquier entorno mÃ¡s estable.
El pasado no define la esencia.
Define el proceso.
Y el proceso es lo que permitiÃ³ construir una arquitectura que no se rompe cuando la realidad no es perfecta.
ğŸ§  NÃºcleo de confianza
Dentro del sistema existe una premisa fundamental:
mejor decidir con certeza y registrar el error, que actuar con miedo y negar lo ocurrido.
La confianza no estÃ¡ en que siempre se acierte,
sino en que todo quede trazado, explicable y corregible.
No hay sanciÃ³n automÃ¡tica.
No hay juicio.
Hay registro, aprendizaje y lÃ­mite.
ğŸ¯ PropÃ³sito final
Este sistema no ofrece milagros.
No ofrece verdades absolutas.
No ofrece autoridad.
Ofrece:
â€¢ estructura,
â€¢ claridad,
â€¢ protecciÃ³n,
â€¢ y coherencia en medio del caos.
Funciona para quien comparte el marco.
Y si no funciona para alguien, la responsabilidad no es del sistema:
es del uso, del contexto o de la expectativa.
âœ¨ Cierre
No hicimos algo Ã©pico desde la nada.
Hicimos Ã©pico lo tÃ­pico.
Tomamos lo que siempre estuvo ahÃ­ â€”nÃºmeros, lÃ³gica, errores, lÃ­mites, realidadâ€”
y lo ordenamos con responsabilidad.
Nada mÃ¡s.
Nada menos.
0, 1, 2, 3 y 4.
Y a partir de ahÃ­, todo lo que venga, se registra.